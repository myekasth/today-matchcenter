<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">

	<meta name="description" content=" " />
	<meta name="keywords" content="MatchCenter, games, results, ranking, referes, table offcers, champions" />
	<meta name="language" content="greek" />
	<meta name="author" content="TODAY MatchCenter" />
	<meta name="web_author" content="Lazaros T" />
    <link rel="icon" href="favicon.ico">    


    <title>Σήμερα | Πρόγραμμα ΕΚΑΣΘ</title>
    <link href="https://fonts.googleapis.com/css?family=Fira+Sans:100,300" rel="stylesheet" />
    <link href="https://fonts.googleapis.com/css2?family=Mansalva&display=swap" rel="stylesheet" />

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link href="https://use.fontawesome.com/releases/v5.1.1/css/all.css" rel="stylesheet" integrity="sha384-O8whS3fhG2OnA5Kas0Y9l3cfpmYjapjI0E4theH4iuMD+pLhbf6JI0jIMfYcK3yZ" crossorigin="anonymous" />


    <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>

    <script type="text/javascript">
        // Load the Visualization API and the piechart package.
        google.charts.load('current', { 'packages': ['corechart'] });

        // Set a callback to run when the Google Visualization API is loaded.
        google.charts.setOnLoadCallback(drawchart);

        // Global variables for data and row count, as they are used across functions
        let data;
        let posesEggrafes;

        function drawchart() {
            drawDiorganvseis();
        };

        function drawDiorganvseis() {
            let queryString;
            let strQueryForURI;

            // 1. Πάρε τη σημερινή ημερομηνία
            const today = new Date();
            // 2. Μορφοποίησε τη σημερινή ημερομηνία σε YYYY-MM-dd
            const year = today.getFullYear();
            const month = String(today.getMonth() + 1).padStart(2, '0'); // getMonth() είναι 0-indexed, οπότε +1
            const day = String(today.getDate()).padStart(2, '0');

            const formattedDate = `${year}-${month}-${day}`; // Παράδειγμα: "2025-06-10"
            // 3. Δημιούργησε τη συμβολοσειρά του QUERY
            strQueryForURI = `select * where D = date '${formattedDate}' order by D,B,A,E`;

            //--- console.log(strQueryForURI);

            queryString = encodeURIComponent(strQueryForURI);
            // Replace with your actual Google Sheet ID
            let query = new google.visualization.Query('https://docs.google.com/spreadsheets/d/17qZ43Fd2oYEV_lESKjOrqIOMurNDg5prJkyFuUH4aJA/gviz/tq?gid=6&headers=1&tq=' + queryString);

            query.send(handle_DrawDiorganvseis_DataQueryResponse);
        }

        function handle_DrawDiorganvseis_DataQueryResponse(response) {

            if (response.isError()) {
                alert('Error in query: ' + response.getMessage() + ' ' + response.getDetailedMessage());
                return;
            }
            data = response.getDataTable(); // Assign to global 'data'
            posesEggrafes = data.getNumberOfRows(); // Assign to global 'posesEggrafes'
            //--- console.log('handle_DrawDiorganvseis_DataQueryResponse posesEggrafes :' +posesEggrafes);

            // Global variables for tab state (moved here from inside functions)
            let curOmilosKathgoria_prg = "";
            let curAgvnistikh_prg = "";
            let curOmilosKathgoria_orismoi = "";
            let curAgvnistikh_orismoi = "";

            //--- trexei agvnes-apotelesmata mia fora arxika kai gemizei antistoixo tab
            renderMatches('pills-prg-container-id');
            document.getElementById('pills-prg').classList.add('active');
            document.getElementById('pills-prg').classList.add('show');

            //--- trexei orismous mia fora arxika kai gemizei antistoixo tab
            document.getElementById('pills-orismoi').classList.add('active');
            document.getElementById('pills-orismoi').classList.add('show');
            renderOrismoi('pills-orismoi-container-id');
            document.getElementById('pills-orismoi').classList.remove('active');
            document.getElementById('pills-orismoi').classList.remove('show');


        }   //--- END of function handle_DrawDiorganvseis_DataQueryResponse(response)

        //---


        // --- Συνάρτηση για τη δημιουργία αγώνων (για το tab 'ΑΓΩΝΕΣ') ---
        function renderMatches(parentElementId) {
                const parentElement = document.getElementById(parentElementId);
                if (!parentElement) {
                    console.error(`Το γονικό στοιχείο με ID '${parentElementId}' δεν βρέθηκε.`);
                    return;
                }
                // Καθαρίζουμε το περιεχόμενο πριν προσθέσουμε νέα στοιχεία
                parentElement.innerHTML = '';

                // Επαναφέρουμε τις μεταβλητές κατάστασης για αυτό το tab
                curOmilosKathgoria_prg = "";
                curAgvnistikh_prg = "";

                for (let row = 0; row < posesEggrafes; row++) {

                    // metablhth gia to όταν υπάρχει ΡΕΠΟ σε μια ομάδα να μην εμφανίζεται το γηπεδο
                    var isRepo=false;                    

                    // --- Στοιχεία Κατηγορίας/Ομίλου ---
                    if (curOmilosKathgoria_prg !== data.getFormattedValue(row, 0)) {
                        curOmilosKathgoria_prg = data.getFormattedValue(row, 0);

                        let iDivOmilos = document.createElement('div');
                        iDivOmilos.id = 'omilos-kathgorias-prg-div-' + row;
                        iDivOmilos.innerHTML = '<div class="col">' + data.getFormattedValue(row, 0) + '</div>';
                        iDivOmilos.className = 'row MatchcenterHomepageOmilos__header';
                        parentElement.appendChild(iDivOmilos);
                    }

                    // --- Στοιχεία Αγωνιστικής ---
                    if (curAgvnistikh_prg !== data.getFormattedValue(row, 1)) {
                        curAgvnistikh_prg = data.getFormattedValue(row, 1);

                        let iDivAgvnistikh = document.createElement('div');
                        iDivAgvnistikh.id = 'agvnistikh-omiloy-prg-div-' + row;
                        iDivAgvnistikh.innerHTML = '<div class="col"> ΑΓΩΝΙΣΤΙΚΗ : ' + data.getFormattedValue(row, 1) + '</div>';
                        iDivAgvnistikh.className = 'row MatchList__subtitle';
                        parentElement.appendChild(iDivAgvnistikh);
                    }

                    // --- Αγώνας ---
                    //--- για την ΗΜΕΡΟΜΗΝΙΑ ή την ένδειξη κατάστασης του αγώνα
                    // ΣΕΝΑΡΙΟ : Το data.getValue(row, 3) φέρνει μόνο Ημερομηνία και ο Χρόνος είναι σε άλλο πεδίο (π.χ. data.getValue(row, 4))
                    
                        const matchDateString = data.getValue(row, 3); // π.χ. "13/06/2025"
                        const matchTimeString = data.getValue(row, 4); // π.χ. "18.00"

                        let matchStartDateTime;

                        // Πρώτα μετατρέπουμε τη συμβολοσειρά ημερομηνίας "DD/MM/YYYY" σε "YYYY-MM-DD"
                        if (typeof matchDateString === 'string' && matchDateString.includes('/')) {
                            const parts = matchDateString.split('/'); // Διαχωρίζουμε την ημερομηνία: ["13", "06", "2025"]
                            // Ελέγχουμε αν έχουμε 3 μέρη για να αποφύγουμε σφάλματα
                            if (parts.length === 3) {
                                // Αναδιατάσσουμε σε "YYYY-MM-DD"
                                const formattedDate = `${parts[2]}-${parts[1]}-${parts[0]}`;

                                // Μετατρέπουμε την ώρα "hh.mm" σε "hh:mm"
                                const formattedTime = matchTimeString.replace('.', ':');

                                // Δημιουργούμε το τελικό Date αντικείμενο
                                matchStartDateTime = new Date(`${formattedDate}T${formattedTime}:00`);
                            } else {
                                console.warn(`Unexpected date format: ${matchDateString}`);
                                matchStartDateTime = null; // Mark as invalid
                            }
                        } else {
                            // Αν δεν είναι string ή δεν περιέχει '/', προσπαθούμε να το χειριστούμε ως Date object απευθείας
                            // ή ως άλλη μορφή συμβολοσειράς που μπορεί να είναι έγκυρη
                            try {
                                matchStartDateTime = new Date(matchDateString);
                                if (matchTimeString) { // Αν υπάρχει και ώρα, προσθέτουμε την ώρα
                                const [hours, minutes] = matchTimeString.replace('.', ':').split(':').map(Number);
                                matchStartDateTime.setHours(hours, minutes, 0, 0);
                                }
                            } catch (e) {
                                console.error(`Error parsing date: ${matchDateString}`, e);
                                matchStartDateTime = null;
                            }
                        }
                    //--- END ΣΕΝΑΡΙΟ METATROPHS και συνθεσης DateTime

                    // --- ΕΛΕΓΧΟΣ ΓΙΑ ΚΟΚΚΙΝΗ ΩΡΑ ---
                    let timeClass = 'MatchListItem__time'; // Η default κλάση
                    if (matchStartDateTime && !isNaN(matchStartDateTime.getTime())) { // Βεβαιωθείτε ότι η ημερομηνία είναι έγκυρη
                        const now = new Date(); // Η τρέχουσα ώρα
                        const twoHoursAfterStart = new Date(matchStartDateTime.getTime() + (2 * 60 * 60 * 1000)); // Ώρα έναρξης + 2 ώρες

                        // Ελέγχουμε αν η τρέχουσα ώρα είναι ΜΕΤΑ την ώρα έναρξης
                        // ΚΑΙ η τρέχουσα ώρα είναι ΠΡΙΝ από 2 ώρες μετά την ώρα έναρξης
                        if (now >= matchStartDateTime && now < twoHoursAfterStart) {
                            timeClass += ' highlight-time'; // Προσθέτουμε την κλάση για κόκκινο χρώμα
                            //-- *** την timeClass θα την χρησιμοποιήσουμε παρακάτω στο σημείο όπου αποτυπώνεται ο χρόνος
                        }
                    }                    


                    const dateObject = data.getValue(row, 3);
                    let formattedDate = "N/A";
                    if (dateObject instanceof Date && !isNaN(dateObject.getTime())) { // Ensure it's a valid Date object
                        const greekMonthsAbbr = [
                            "ΙΑΝ", "ΦΕΒ", "ΜΑΡ", "ΑΠΡ", "ΜΑΪ", "ΙΟΥΝ",
                            "ΙΟΥΛ", "ΑΥΓ", "ΣΕΠ", "ΟΚΤ", "ΝΟΕ", "ΔΕΚ"
                        ];
                        const day = dateObject.getDate();
                        const monthAbbr = greekMonthsAbbr[dateObject.getMonth()];
                        formattedDate = `${day} ${monthAbbr}`;
                    }

                    let iDivAgvnas = document.createElement('div');
                    iDivAgvnas.id = 'agvnas-prg-div-' + row;
                    iDivAgvnas.className = 'row MatchListItem__wrapper MatchList__match';

                    const teamAValue = data.getFormattedValue(row, 6);
                    const teamBValue = data.getFormattedValue(row, 7);
                    const statusValue = data.getFormattedValue(row, 2);

                    //--- για την ΩΡΑ ή την ένδειξη κατάστασης του αγώνα
                    if (teamAValue === "-" || teamBValue === "-") {
                        iDivAgvnas.innerHTML = '<div class="col MatchListItem__header"><span class="MatchListItem__date">' + formattedDate + '</span> <span class="MatchListItem__time">Ρ Ε Π Ο </span></div>';
                        isRepo=true
                    } else if (statusValue === "ΤΕΛΙΚΟ") {
                        iDivAgvnas.innerHTML = '<div class="col MatchListItem__header"><span class="MatchListItem__date"> ΤΕΛΙΚΟ </span> </div>';
                    } else if (statusValue === "ΑΑ") {
                        iDivAgvnas.innerHTML = '<div class="col MatchListItem__header"><span class="MatchListItem__date"> ΑΑ </span> </div>';
                    } else {
                        iDivAgvnas.innerHTML = '<div class="col MatchListItem__header"><span class="MatchListItem__date">' + formattedDate + '</span> <span class="'+ timeClass +'"> ' + data.getFormattedValue(row, 4) + '</span></div>';
                    }
                    parentElement.appendChild(iDivAgvnas);


                 // --- λογοτυπα Ομάδες και Σκορ Αγώνα ---
                    let matchContentDiv = document.createElement('div');
                    matchContentDiv.classList.add('MatchListItem__content');


                    //---- ghpedo panv apo omada A
                    if(!isRepo){                     
                        let ghpedoDiv = document.createElement('div');
                        ghpedoDiv.classList.add('MatchListItem__Ghpedo');

                        let ghpedoNameSpan = document.createElement('span');
                        ghpedoNameSpan.classList.add('MatchListItem__ghpedoName');
                        ghpedoNameSpan.textContent = data.getFormattedValue(row, 5);   

                        ghpedoDiv.appendChild(ghpedoNameSpan);
                        matchContentDiv.appendChild(ghpedoDiv);
                    }                
                    //---- omada A + omada B kai neo css

                    let homeTeamDiv = document.createElement('div');
                    homeTeamDiv.classList.add('MatchListItem__team', 'MatchListItem__team--home');

                    // --- ΛΟΓΟΤΥΠΟ ΓΗΠΕΔΟΥΧΟΥ ---
                    const homeLogoUrl = data.getFormattedValue(row, 53); // URL λογότυπου γηπεδούχου
                    if (homeLogoUrl) {
                        let homeLogoDiv = document.createElement('div');
                        homeLogoDiv.classList.add('MatchListItem__teamLogo'); // Προσθέτουμε νέα κλάση για styling
                        homeLogoDiv.style.backgroundImage = `url('${homeLogoUrl}')`;
                        // Προσθέτουμε στυλ για να διασφαλίσουμε ότι το λογότυπο εμφανίζεται σωστά
                        // Μπορείτε να ρυθμίσετε το μέγεθος (π.χ. 20px) ανάλογα με το ύψος της γραμματοσειράς
                        homeLogoDiv.style.width = '20px';  // Σταθερό πλάτος
                        homeLogoDiv.style.height = '20px'; // Σταθερό ύψος, ίσο με το ύψος της γραμματοσειράς
                        homeLogoDiv.style.backgroundSize = 'contain'; // Το λογότυπο θα χωράει μέσα στο div
                        homeLogoDiv.style.backgroundRepeat = 'no-repeat'; // Όχι επανάληψη εικόνας
                        homeLogoDiv.style.backgroundPosition = 'center'; // Κεντράρισμα εικόνας
                        homeLogoDiv.style.marginRight = '8px'; // Απόσταση από το όνομα της ομάδας
                        homeTeamDiv.appendChild(homeLogoDiv); // Προσθέτουμε το λογότυπο πριν το όνομα
                    }

                    let homeTeamNameSpan = document.createElement('span');
                    homeTeamNameSpan.classList.add('MatchListItem__teamName');
                    homeTeamNameSpan.textContent = data.getFormattedValue(row, 6);

                    let homeTeamScoreSpan = document.createElement('span');
                    homeTeamScoreSpan.classList.add('MatchListItem__teamScore');
                    const homeScore = parseFloat(data.getFormattedValue(row, 8)); // Μετατροπή σε αριθμό
                    homeTeamScoreSpan.textContent = isNaN(homeScore) ? '' : homeScore; // Εμφάνιση παύλας αν δεν είναι αριθμός

                    homeTeamDiv.appendChild(homeTeamNameSpan);
                    homeTeamDiv.appendChild(homeTeamScoreSpan);

                    let awayTeamDiv = document.createElement('div');
                    awayTeamDiv.classList.add('MatchListItem__team', 'MatchListItem__team--away');

                    // --- ΛΟΓΟΤΥΠΟ ΦΙΛΟΞΕΝΟΥΜΕΝΟΥ ---
                    const awayLogoUrl = data.getFormattedValue(row, 54); // URL λογότυπου φιλοξενούμενου
                    if (awayLogoUrl) {
                        let awayLogoDiv = document.createElement('div');
                        awayLogoDiv.classList.add('MatchListItem__teamLogo'); // Προσθέτουμε νέα κλάση για styling
                        awayLogoDiv.style.backgroundImage = `url('${awayLogoUrl}')`;
                        awayLogoDiv.style.width = '20px';  // Σταθερό πλάτος
                        awayLogoDiv.style.height = '20px'; // Σταθερό ύψος
                        awayLogoDiv.style.backgroundSize = 'contain';
                        awayLogoDiv.style.backgroundRepeat = 'no-repeat';
                        awayLogoDiv.style.backgroundPosition = 'center';
                        awayLogoDiv.style.marginRight = '8px'; // Απόσταση από το όνομα της ομάδας
                        awayTeamDiv.appendChild(awayLogoDiv); // Προσθέτουμε το λογότυπο πριν το όνομα
                    }

                    let awayTeamNameSpan = document.createElement('span');
                    awayTeamNameSpan.classList.add('MatchListItem__teamName');
                    awayTeamNameSpan.textContent = data.getFormattedValue(row, 7);

                    let awayTeamScoreSpan = document.createElement('span');
                    awayTeamScoreSpan.classList.add('MatchListItem__teamScore');
                    const awayScore = parseFloat(data.getFormattedValue(row, 9)); // Μετατροπή σε αριθμό
                    awayTeamScoreSpan.textContent = isNaN(awayScore) ? '' : awayScore; // Εμφάνιση κενού αν δεν είναι αριθμός

                    awayTeamDiv.appendChild(awayTeamNameSpan);
                    awayTeamDiv.appendChild(awayTeamScoreSpan);

                    matchContentDiv.appendChild(homeTeamDiv);
                    matchContentDiv.appendChild(awayTeamDiv);

                    // Έλεγχος νικητή και προσθήκη της κλάσης "MatchListItem__team--winning"
                    if (!isNaN(homeScore) && !isNaN(awayScore)) {
                        if (homeScore > awayScore) {
                            homeTeamDiv.classList.add('MatchListItem__team--winning');
                        } else if (awayScore > homeScore) {
                            awayTeamDiv.classList.add('MatchListItem__team--winning');
                        }
                    }
                    iDivAgvnas.appendChild(matchContentDiv); // Προσθήκη στην αρχική δομή του αγώνα
                }
        }


        // --- Συνάρτηση για τη δημιουργία αγώνων με ΟΡΙΣΜΟΥΣ (για το tab 'ΟΡΙΣΜΟΙ') ---
        function renderOrismoi(parentElementId) {
                const parentElement = document.getElementById(parentElementId);
                if (!parentElement) {
                    console.error(`Το γονικό στοιχείο με ID '${parentElementId}' δεν βρέθηκε.`);
                    return;
                }
                // Καθαρίζουμε το περιεχόμενο πριν προσθέσουμε νέα στοιχεία
                parentElement.innerHTML = '';


                // Επαναφέρουμε τις μεταβλητές κατάστασης για αυτό το tab
                curOmilosKathgoria_orismoi = "";
                curAgvnistikh_orismoi = "";


                for (let row = 0; row < posesEggrafes; row++) {
                    // metablhth gia to όταν υπάρχει ΡΕΠΟ σε μια ομάδα να μην εμφανίζονται οι διαιτητές - Κριτές κλπα
                    var isRepo=false;


                    // --- Στοιχεία Κατηγορίας/Ομίλου ---
                    if (curOmilosKathgoria_orismoi !== data.getFormattedValue(row, 0)) {
                        curOmilosKathgoria_orismoi = data.getFormattedValue(row, 0);

                        let iDivOmilos = document.createElement('div');
                        iDivOmilos.id = 'omilos-kathgorias-orismoi-div-' + row;
                        iDivOmilos.innerHTML = '<div class="col">' + data.getFormattedValue(row, 0) + '</div>';
                        iDivOmilos.className = 'row MatchcenterHomepageOmilos__header';
                        parentElement.appendChild(iDivOmilos);
                    }

                    // --- Στοιχεία Αγωνιστικής ---
                    if (curAgvnistikh_orismoi !== data.getFormattedValue(row, 1)) {
                        curAgvnistikh_orismoi = data.getFormattedValue(row, 1);

                        let iDivAgvnistikh = document.createElement('div');
                        iDivAgvnistikh.id = 'agvnistikh-omiloy-orismoi-div-' + row;
                        iDivAgvnistikh.innerHTML = '<div class="col"> ΑΓΩΝΙΣΤΙΚΗ : ' + data.getFormattedValue(row, 1) + '</div>';
                        iDivAgvnistikh.className = 'row MatchList__subtitle';
                        parentElement.appendChild(iDivAgvnistikh);
                    }

                   // --- Αγώνας ---
                    //--- για την ΗΜΕΡΟΜΗΝΙΑ ή την ένδειξη κατάστασης του αγώνα
                    // ΣΕΝΑΡΙΟ : Το data.getValue(row, 3) φέρνει μόνο Ημερομηνία και ο Χρόνος είναι σε άλλο πεδίο (π.χ. data.getValue(row, 4))
                    
                        const matchDateString = data.getValue(row, 3); // π.χ. "13/06/2025"
                        const matchTimeString = data.getValue(row, 4); // π.χ. "18.00"

                        let matchStartDateTime;

                        // Πρώτα μετατρέπουμε τη συμβολοσειρά ημερομηνίας "DD/MM/YYYY" σε "YYYY-MM-DD"
                        if (typeof matchDateString === 'string' && matchDateString.includes('/')) {
                            const parts = matchDateString.split('/'); // Διαχωρίζουμε την ημερομηνία: ["13", "06", "2025"]
                            // Ελέγχουμε αν έχουμε 3 μέρη για να αποφύγουμε σφάλματα
                            if (parts.length === 3) {
                                // Αναδιατάσσουμε σε "YYYY-MM-DD"
                                const formattedDate = `${parts[2]}-${parts[1]}-${parts[0]}`;

                                // Μετατρέπουμε την ώρα "hh.mm" σε "hh:mm"
                                const formattedTime = matchTimeString.replace('.', ':');

                                // Δημιουργούμε το τελικό Date αντικείμενο
                                matchStartDateTime = new Date(`${formattedDate}T${formattedTime}:00`);
                            } else {
                                console.warn(`Unexpected date format: ${matchDateString}`);
                                matchStartDateTime = null; // Mark as invalid
                            }
                        } else {
                            // Αν δεν είναι string ή δεν περιέχει '/', προσπαθούμε να το χειριστούμε ως Date object απευθείας
                            // ή ως άλλη μορφή συμβολοσειράς που μπορεί να είναι έγκυρη
                            try {
                                matchStartDateTime = new Date(matchDateString);
                                if (matchTimeString) { // Αν υπάρχει και ώρα, προσθέτουμε την ώρα
                                const [hours, minutes] = matchTimeString.replace('.', ':').split(':').map(Number);
                                matchStartDateTime.setHours(hours, minutes, 0, 0);
                                }
                            } catch (e) {
                                console.error(`Error parsing date: ${matchDateString}`, e);
                                matchStartDateTime = null;
                            }
                        }
                    //--- END ΣΕΝΑΡΙΟ METATROPHS και συνθεσης DateTime

                    // --- ΕΛΕΓΧΟΣ ΓΙΑ ΚΟΚΚΙΝΗ ΩΡΑ ---
                    let timeClass = 'MatchListItem__time'; // Η default κλάση
                    if (matchStartDateTime && !isNaN(matchStartDateTime.getTime())) { // Βεβαιωθείτε ότι η ημερομηνία είναι έγκυρη
                        const now = new Date(); // Η τρέχουσα ώρα
                        const twoHoursAfterStart = new Date(matchStartDateTime.getTime() + (2 * 60 * 60 * 1000)); // Ώρα έναρξης + 2 ώρες

                        // Ελέγχουμε αν η τρέχουσα ώρα είναι ΜΕΤΑ την ώρα έναρξης
                        // ΚΑΙ η τρέχουσα ώρα είναι ΠΡΙΝ από 2 ώρες μετά την ώρα έναρξης
                        if (now >= matchStartDateTime && now < twoHoursAfterStart) {
                            timeClass += ' highlight-time'; // Προσθέτουμε την κλάση για κόκκινο χρώμα
                            //-- *** την timeClass θα την χρησιμοποιήσουμε παρακάτω στο σημείο όπου αποτυπώνεται ο χρόνος
                        }
                    }                    


                    const dateObject = data.getValue(row, 3);
                    let formattedDate = "N/A";
                    if (dateObject instanceof Date && !isNaN(dateObject.getTime())) { // Ensure it's a valid Date object
                        const greekMonthsAbbr = [
                            "ΙΑΝ", "ΦΕΒ", "ΜΑΡ", "ΑΠΡ", "ΜΑΪ", "ΙΟΥΝ",
                            "ΙΟΥΛ", "ΑΥΓ", "ΣΕΠ", "ΟΚΤ", "ΝΟΕ", "ΔΕΚ"
                        ];
                        const day = dateObject.getDate();
                        const monthAbbr = greekMonthsAbbr[dateObject.getMonth()];
                        formattedDate = `${day} ${monthAbbr}`;
                    }

                    let iDivAgvnas = document.createElement('div');
                    iDivAgvnas.id = 'agvnas-prg-div-' + row;
                    iDivAgvnas.className = 'row MatchListItem__wrapper MatchList__match';

                    const teamAValue = data.getFormattedValue(row, 6);
                    const teamBValue = data.getFormattedValue(row, 7);
                    const statusValue = data.getFormattedValue(row, 2);

                    //--- για την ΩΡΑ ή την ένδειξη κατάστασης του αγώνα
                    if (teamAValue === "-" || teamBValue === "-") {
                        iDivAgvnas.innerHTML = '<div class="col MatchListItem__header"><span class="MatchListItem__date">' + formattedDate + '</span> <span class="MatchListItem__time">Ρ Ε Π Ο </span></div>';
                        isRepo=true
                    } else if (statusValue === "ΤΕΛΙΚΟ") {
                        iDivAgvnas.innerHTML = '<div class="col MatchListItem__header"><span class="MatchListItem__date"> ΤΕΛΙΚΟ </span> </div>';
                    } else if (statusValue === "ΑΑ") {
                        iDivAgvnas.innerHTML = '<div class="col MatchListItem__header"><span class="MatchListItem__date"> ΑΑ </span> </div>';
                    } else {
                        iDivAgvnas.innerHTML = '<div class="col MatchListItem__header"><span class="MatchListItem__date">' + formattedDate + '</span> <span class="'+ timeClass +'"> ' + data.getFormattedValue(row, 4) + '</span></div>';
                    }
                    parentElement.appendChild(iDivAgvnas);


                // --- λογοτυπα Ομάδες και Σκορ Αγώνα ---]

                    let matchContentDiv = document.createElement('div');
                    matchContentDiv.classList.add('MatchListItem__content');

                    //---- ghpedo panv apo omada A
                    if(!isRepo){                    
                        let ghpedoDiv = document.createElement('div');
                        ghpedoDiv.classList.add('MatchListItem__Ghpedo');

                        let ghpedoNameSpan = document.createElement('span');
                        ghpedoNameSpan.classList.add('MatchListItem__ghpedoName');
                        ghpedoNameSpan.textContent = data.getFormattedValue(row, 5);   

                        ghpedoDiv.appendChild(ghpedoNameSpan);
                        matchContentDiv.appendChild(ghpedoDiv);
                    }
                                        
                    //---- omada A + omada B

                    let homeTeamDiv = document.createElement('div');
                    homeTeamDiv.classList.add('MatchListItem__team', 'MatchListItem__team--home');

                    // --- ΛΟΓΟΤΥΠΟ ΓΗΠΕΔΟΥΧΟΥ ---
                    const homeLogoUrl = data.getFormattedValue(row, 53); // URL λογότυπου γηπεδούχου
                    if (homeLogoUrl) {
                        let homeLogoDiv = document.createElement('div');
                        homeLogoDiv.classList.add('MatchListItem__teamLogo'); // Προσθέτουμε νέα κλάση για styling
                        homeLogoDiv.style.backgroundImage = `url('${homeLogoUrl}')`;
                        // Προσθέτουμε στυλ για να διασφαλίσουμε ότι το λογότυπο εμφανίζεται σωστά
                        // Μπορείτε να ρυθμίσετε το μέγεθος (π.χ. 20px) ανάλογα με το ύψος της γραμματοσειράς
                        homeLogoDiv.style.width = '20px';  // Σταθερό πλάτος
                        homeLogoDiv.style.height = '20px'; // Σταθερό ύψος, ίσο με το ύψος της γραμματοσειράς
                        homeLogoDiv.style.backgroundSize = 'contain'; // Το λογότυπο θα χωράει μέσα στο div
                        homeLogoDiv.style.backgroundRepeat = 'no-repeat'; // Όχι επανάληψη εικόνας
                        homeLogoDiv.style.backgroundPosition = 'center'; // Κεντράρισμα εικόνας
                        homeLogoDiv.style.marginRight = '8px'; // Απόσταση από το όνομα της ομάδας
                        homeTeamDiv.appendChild(homeLogoDiv); // Προσθέτουμε το λογότυπο πριν το όνομα
                    }

                    let homeTeamNameSpan = document.createElement('span');
                    homeTeamNameSpan.classList.add('MatchListItem__teamName');
                    homeTeamNameSpan.textContent = data.getFormattedValue(row, 6);

                    let homeTeamScoreSpan = document.createElement('span');
                    homeTeamScoreSpan.classList.add('MatchListItem__teamScore');
                    const homeScore = parseFloat(data.getFormattedValue(row, 8)); // Μετατροπή σε αριθμό
                    homeTeamScoreSpan.textContent = isNaN(homeScore) ? '' : homeScore; // Εμφάνιση παύλας αν δεν είναι αριθμός

                    homeTeamDiv.appendChild(homeTeamNameSpan);
                    homeTeamDiv.appendChild(homeTeamScoreSpan);

                    let awayTeamDiv = document.createElement('div');
                    awayTeamDiv.classList.add('MatchListItem__team', 'MatchListItem__team--away');

                    // --- ΛΟΓΟΤΥΠΟ ΦΙΛΟΞΕΝΟΥΜΕΝΟΥ ---
                    const awayLogoUrl = data.getFormattedValue(row, 54); // URL λογότυπου φιλοξενούμενου
                    if (awayLogoUrl) {
                        let awayLogoDiv = document.createElement('div');
                        awayLogoDiv.classList.add('MatchListItem__teamLogo'); // Προσθέτουμε νέα κλάση για styling
                        awayLogoDiv.style.backgroundImage = `url('${awayLogoUrl}')`;
                        awayLogoDiv.style.width = '20px';  // Σταθερό πλάτος
                        awayLogoDiv.style.height = '20px'; // Σταθερό ύψος
                        awayLogoDiv.style.backgroundSize = 'contain';
                        awayLogoDiv.style.backgroundRepeat = 'no-repeat';
                        awayLogoDiv.style.backgroundPosition = 'center';
                        awayLogoDiv.style.marginRight = '8px'; // Απόσταση από το όνομα της ομάδας
                        awayTeamDiv.appendChild(awayLogoDiv); // Προσθέτουμε το λογότυπο πριν το όνομα
                    }

                    let awayTeamNameSpan = document.createElement('span');
                    awayTeamNameSpan.classList.add('MatchListItem__teamName');
                    awayTeamNameSpan.textContent = data.getFormattedValue(row, 7);

                    let awayTeamScoreSpan = document.createElement('span');
                    awayTeamScoreSpan.classList.add('MatchListItem__teamScore');
                    const awayScore = parseFloat(data.getFormattedValue(row, 9)); // Μετατροπή σε αριθμό
                    awayTeamScoreSpan.textContent = isNaN(awayScore) ? '' : awayScore; // Εμφάνιση κενού αν δεν είναι αριθμός

                    awayTeamDiv.appendChild(awayTeamNameSpan);
                    awayTeamDiv.appendChild(awayTeamScoreSpan);

                    matchContentDiv.appendChild(homeTeamDiv);
                    matchContentDiv.appendChild(awayTeamDiv);

                    // Έλεγχος νικητή και προσθήκη της κλάσης "MatchListItem__team--winning"
                    if (!isNaN(homeScore) && !isNaN(awayScore)) {
                        if (homeScore > awayScore) {
                            homeTeamDiv.classList.add('MatchListItem__team--winning');
                        } else if (awayScore > homeScore) {
                            awayTeamDiv.classList.add('MatchListItem__team--winning');
                        }
                    }
                    iDivAgvnas.appendChild(matchContentDiv);


                // --- Προσθήκη των Στοιχείων Ορισμών (Διαιτητές, Κομισάριος, Κριτές) ---
                    let orismoiDetailsDiv = document.createElement('div');
                    orismoiDetailsDiv.classList.add('MatchListItem__orismoi-details');

                    // Create a new Bootstrap row to hold the three columns
                    let orismoiRow = document.createElement('div');
                    orismoiRow.classList.add('row', 'g-3'); // 'g-3' adds some gutter spacing between columns
                    if(isRepo){
                        orismoiRow.classList.add('d-none'); // κρυβει τους ορισμους σε περιπτωση ρεπό
                    }

                    // --- α. Διαιτητές (Column 1) ---
                    let diaititesCol = document.createElement('div');
                    diaititesCol.classList.add('col-md-4', 'col-sm-12'); // Takes 1/3 width on medium screens, full width on small
                    
                    let diaititesDiv = document.createElement('div');
                    diaititesDiv.classList.add('MatchListItem__section-title');
                    diaititesDiv.textContent = 'ΔΙΑΤΗΤΕΣ:';
                    diaititesCol.appendChild(diaititesDiv);

                    let diaititesList = document.createElement('ul');
                    diaititesList.classList.add('MatchListItem__list');

                    const diaititis1 = data.getFormattedValue(row, 10);
                    const diaititis2 = data.getFormattedValue(row, 11);
                    const diaititis3 = data.getFormattedValue(row, 12);

                    if (diaititis1) {
                        let li1 = document.createElement('li');
                        li1.textContent = diaititis1;
                        diaititesList.appendChild(li1);
                    }
                    if (diaititis2) {
                        let li2 = document.createElement('li');
                        li2.textContent = diaititis2;
                        diaititesList.appendChild(li2);
                    }
                    if (diaititis3) {
                        let li3 = document.createElement('li');
                        li3.textContent = diaititis3;
                        diaititesList.appendChild(li3);
                    }
                    if (!diaititis1 && !diaititis2 && !diaititis3) {
                        let li = document.createElement('li');
                        //-- li.textContent = "Δεν έχουν οριστεί"΄
                        li.innerHTML = " &empty;";
                        diaititesList.appendChild(li);
                    }
                    diaititesCol.appendChild(diaititesList); // Append diaititesList to its column
                    orismoiRow.appendChild(diaititesCol);    // Append diaititesCol to the row

                    // --- β. Κομισάριος (Column 2) ---
                    let komisariosCol = document.createElement('div');
                    komisariosCol.classList.add('col-md-4', 'col-sm-12', 'komisarios-column-to-hide');

                    let komisariosDiv = document.createElement('div');
                    komisariosDiv.classList.add('MatchListItem__section-title');
                    komisariosDiv.textContent = 'ΚΟΜΙΣΑΡΙΟΣ:';
                    komisariosCol.appendChild(komisariosDiv);

                    let komisariosValue = data.getFormattedValue(row, 55); // Use the correct column for commissioner
                    if (komisariosValue) {
                        let pKomisarios = document.createElement('p');
                        pKomisarios.classList.add('MatchListItem__single-value');
                        pKomisarios.textContent = komisariosValue;
                        komisariosCol.appendChild(pKomisarios);
                    } else {
                        let pKomisarios = document.createElement('p');
                        pKomisarios.classList.add('MatchListItem__single-value');
                        pKomisarios.innerHTML = "&empty;";
                        //-- pKomisarios.textContent = "Δεν έχει οριστεί";
                        komisariosCol.appendChild(pKomisarios);
                        komisariosCol.classList.add('invisible');
                    }
                    orismoiRow.appendChild(komisariosCol); // Append komisariosCol to the row

                    // --- γ. Κριτές (Column 3) ---
                    let kritesCol = document.createElement('div');
                    kritesCol.classList.add('col-md-4', 'col-sm-12');

                    let kritesDiv = document.createElement('div');
                    kritesDiv.classList.add('MatchListItem__section-title');
                    kritesDiv.textContent = 'ΚΡΙΤΕΣ:';
                    kritesCol.appendChild(kritesDiv);

                    let kritesList = document.createElement('ul');
                    kritesList.classList.add('MatchListItem__list');

                    // Assuming fields 13, 14, 15 for judges. Adjust if needed.
                    const kritis1 = data.getFormattedValue(row, 13);
                    const kritis2 = data.getFormattedValue(row, 14);
                    const kritis3 = data.getFormattedValue(row, 15);

                    if (kritis1) {
                        let liKritis1 = document.createElement('li');
                        liKritis1.textContent = kritis1;
                        kritesList.appendChild(liKritis1);
                    }
                    if (kritis2) {
                        let liKritis2 = document.createElement('li');
                        liKritis2.textContent = kritis2;
                        kritesList.appendChild(liKritis2);
                    }
                    if (kritis3) {
                        let liKritis3 = document.createElement('li');
                        liKritis3.textContent = kritis3;
                        kritesList.appendChild(liKritis3);
                    }
                    if (!kritis1 && !kritis2 && !kritis3) {
                        let li = document.createElement('li');
                        // li.textContent = "Δεν έχουν οριστεί";
                        li.innerHTML = "&empty;";

                        kritesList.appendChild(li);
                    }
                    kritesCol.appendChild(kritesList); // Append kritesList to its column
                    orismoiRow.appendChild(kritesCol);   // Append kritesCol to the row

                    // Append the new row containing the three columns to orismoiDetailsDiv
                    orismoiDetailsDiv.appendChild(orismoiRow);

                    // Προσθήκη του νέου div ορισμών κάτω από το matchContentDiv
                    iDivAgvnas.appendChild(orismoiDetailsDiv);


                }
        }

    </script>

    <style>
        .MatchcenterHomepageWidget__header {
            color: #0f253a;
            font: 400 2.5em / 1 Mansalva, Helvetica, Arial, sans-serif;
            letter-spacing: .12em;
            text-align: center;
            padding: 12px 0;
            margin-bottom: 15px;
            border-bottom: 5px solid #ff0040;
        }

        .MatchcenterHomepageOmilos__header {
            background-color: #e2e4e6;
            color: #003e5e;
            font-size: 13px;
            font-weight: bold;
            letter-spacing: .05em;
            padding: 5px 20px;
            text-transform: uppercase;
            text-align: center;
            user-select: none;
        }

        .MatchList__subtitle {
            border-bottom: 1px solid #e2e4e6;
            color: #003e5e;
            font-size: 13px;
            letter-spacing: .05em;
            text-align: center;
            text-transform: uppercase;
            padding: 6px 20px;
            user-select: none;
        }

        .MatchListItem {
            /* Keep if needed for other styles, but wrapper handles main display */
        }

        .MatchList__match {
            min-height: 58px;
        }

        .MatchListItem__wrapper {
            border-bottom: 4px solid #e2e4e6;
            display: flex;
            align-items: stretch;
            justify-content: flex-start;
            padding: 10px 0;
            text-decoration: none;
            flex-wrap: wrap; /* Allows wrapping for orismoi details */
        }

        .MatchListItem__wrapper:hover{
            background-color: rgb(248, 248, 248);
            outline: none;
            user-select :auto;
            cursor: pointer;            
        }        

        .MatchListItem__header {
            display: flex;
            flex-flow: column;
            align-items: center;
            justify-content: center;
            text-align: center;
            width: 65px;
            flex: 0 0 65px;
            padding: 0 5px 0 0;
            border-right: 1px solid #e2e4e6;
        }

        /* --- ΗΜΕΡΟΜΗΝΙΑ ΧΡΟΝΟΣ -- */

        .MatchListItem__date {
            color: #003e5e;
            font-size: 12px;
            text-transform: uppercase;
            text-align: center;
            line-height: 1.4;
        }

        .MatchListItem__time,
        .MatchListItem__year {
            color: #003e5e;
            font-size: 12px;
            font-weight: bold;
            text-align: center;
            line-height: 0.8;
        }

        .MatchListItem__time.highlight-time {
            color: red;
            font-weight: bold; /* Προαιρετικά, για να τονιστεί περισσότερο */

            /* Animation Properties */
            animation: gentle-blink 1.2s infinite alternate; /* Ορισμός animation */
        }

        /* Keyframes για το animation */
        @keyframes gentle-blink {
            0% {
                opacity: 1; /* Πλήρης αδιαφάνεια στην αρχή */
            }
            100% {
                opacity: 0.4; /* Ελαφρώς πιο αχνό στο τέλος */
            }
        }

        /* --- ΓΗΠΕΔΟ -- */

        .MatchListItem__Ghpedo{
            margin-bottom: 5px;
            text-align: right;
        }
        .MatchListItem__ghpedoName{
            font-size: 11px;
            font-weight: 400;
            letter-spacing: 0.15em;
            box-shadow: 0px 0px 4px 4px rgba(0, 0, 0, 0.08);
        }

        /* --- ΟΜΑΔΕΣ ΑΓΩΝΑ -- */
        .MatchListItem__content {
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center; /* Center content vertically */
        }

        .MatchListItem__team {
            display: flex;
            padding: 0 15px;
        }

        .MatchListItem__team--home {
            margin-bottom: 10px;
        }

        .MatchListItem__team--away {
            margin-bottom: 0px;
        }

        .MatchListItem__teamName {
            margin-right: auto;
        }



        .MatchListItem__teamName,
        .MatchListItem__teamScore {
            color: #003e5e;
            font-size: 12px;
            font-weight: 400;
            letter-spacing: .04em;
        }

        .MatchListItem__teamScore {
            min-width: 1ch;
            text-align: center
        }

        .MatchListItem__team--winning .MatchListItem__teamName,
        .MatchListItem__team--winning .MatchListItem__teamScore {
            font-weight: 700
        }

        /* --- Στυλ για την ενότητα Ορισμών --- */
        .MatchListItem__orismoi-details {
            flex: 1 0 100%; /* Take full width below main match content */
            padding: 1px 15px 0 65px; /* Adjust padding to align with MatchListItem__content */
            border-top: 1px dashed #e2e4e6; /* Separator for clarity */
            margin-top: 2px;
        }

        .MatchListItem__section-title {
            font-weight: bold;
            color: #003e5e;
            font-size: 11px;
            margin-bottom: 1px;
            text-transform: uppercase;
        }

        .MatchListItem__list {
            list-style: none; /* Remove default bullet points */
            padding: 0;
            margin: 0;
        }

        .MatchListItem__list li {
            font-size: 11px;
            color: #333;
            line-height: 1.2;
        }

        .MatchListItem__single-value {
            font-size: 11px;
            color: #333;
            margin-bottom: 10px;
            padding-left: 0;
        }

        .sticky-header-tabs {
            position: fixed; /* Κάνει το στοιχείο να παραμένει στην οθόνη ακόμα και με scroll */
            top: 0;          /* Κολλάει στην κορυφή του viewport */
            width: 100%;     /* Καλύπτει όλο το πλάτος του viewport */
            background-color: #fff; /* Ορίζουμε background-color για να μην "φαίνεται" το περιεχόμενο από κάτω */
            z-index: 1000;   /* Διασφαλίζει ότι θα εμφανίζεται πάνω από άλλα στοιχεία */
            box-shadow: 0 2px 5px rgba(0,0,0,0.1); /* Προαιρετικό: προσθήκη σκιάς για καλύτερη οπτική διαχωρισμό */
        }

        /* Πρέπει να προσθέσουμε padding στο περιεχόμενο για να μην κρύβεται κάτω από το fixed header */
        .tab-content {
            /* Δώστε padding-top ίσο ή λίγο μεγαλύτερο από το συνολικό ύψος του sticky-header-tabs */
            /* Πρέπει να υπολογίσετε το ύψος του header και των tabs.
            Ενδεικτικά, ας υποθέσουμε ότι είναι περίπου 100px. Θα χρειαστείτε προσαρμογή. */
            padding-top: 150px; /* Προσαρμόστε αυτό το ύψος ανάλογα με το πραγματικό ύψος του header+tabs */
        }

        /* Προαιρετικά: Αν το .MatchcenterHomepageWidget έχει background-color, βεβαιωθείτε ότι το .sticky-header-tabs είναι το ίδιο ή διαφανές */
        .MatchcenterHomepageWidget {
            /* Εάν είχε background-color, ίσως να το αφαιρέσετε από εδώ ή να το ρυθμίσετε διαφορετικά */
            padding-top: 0; /* Αφαιρέστε τυχόν padding-top από εδώ αν το βάλετε στο tab-content */
        }
            

        /* Κρύψτε το Komisarios column σε οθόνες μικρότερες από το μέσο breakpoint (π.χ. 768px) */
        @media (max-width: 767.98px) { /* Το 767.98px είναι το breakpoint του Bootstrap για sm προς md */
            .komisarios-column-to-hide.invisible { /* Θα προσθέσουμε αυτή την κλάση με JS, ή απλά στοχεύστε το komisariosCol */
                display: none !important; /* Χρησιμοποιήστε !important αν χρειάζεται να παρακάμψετε άλλους κανόνες */
            }
        }


    </style>

</head>
<body>



    <div class="MatchCenterWidgetContainer">
        <div class="MatchcenterWidget MatchcenterWidget--hp" id="matchcenter-homepage-widget" data-matchcenter-homepage-group="" data-matchcenter-homepage-b-group="">
            <section class="MatchcenterHomepageWidget">

                <div class="sticky-header-tabs">
                    <h3 class="MatchcenterHomepageWidget__header">
                        MATCH<small class="text-body-secondary">CENTER</small>
                    </h3>

                    <ul class="nav nav-pills mb-3 justify-content-center" id="pills-tab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <button class="nav-link active" id="pills-prg-tab" data-bs-toggle="pill" data-bs-target="#pills-prg" type="button" role="tab" aria-controls="pills-prg" aria-selected="false">ΑΓΩΝΕΣ</button>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="pills-orismoi-tab" data-bs-toggle="pill" data-bs-target="#pills-orismoi" type="button" role="tab" aria-controls="pills-orismoi" aria-selected="true">ΟΡΙΣΜΟΙ</button>
                        </li>
                    </ul>
                </div>
                <div class="tab-content" id="pills-tabContent">
                    <div class="tab-pane fade" id="pills-prg" role="tabpanel" aria-labelledby="pills-prg-tab" tabindex="-1">
                        <div class="container text-center" id="pills-prg-container-id">PRG
                        </div>
                    </div>
                    <div class="tab-pane fade show active" id="pills-orismoi" role="tabpanel" aria-labelledby="pills-orismoi-tab" tabindex="0">

                        <!-- ΝΕΟ: Πεδία Φίλτρων -->
                        <div class="filter-section p-3 bg-light rounded mb-3">
                            <div class="row g-3">
                                <div class="col-md-4">
                                    <label for="refereeFilter" class="form-label">Διαιτητές:</label>
                                    <select class="form-select" id="refereeFilter">
                                        <option value="Όλα">Όλα</option>
                                        <!-- Options θα συμπληρωθούν από JS -->
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <label for="commissionerFilter" class="form-label">Κομισάριος:</label>
                                    <select class="form-select" id="commissionerFilter">
                                        <option value="Όλα">Όλα</option>
                                        <!-- Options θα συμπληρωθούν από JS -->
                                    </select>
                                </div>
                                <div class="col-md-4">
                                    <label for="judgeFilter" class="form-label">Κριτές:</label>
                                    <select class="form-select" id="judgeFilter">
                                        <option value="Όλα">Όλα</option>
                                        <!-- Options θα συμπληρωθούν από JS -->
                                    </select>
                                </div>
                            </div>
                        </div>
                        <!-- ΤΕΛΟΣ ΝΕΩΝ ΠΕΔΙΩΝ ΦΙΛΤΡΩΝ -->

                        <div class="container text-center" id="pills-orismoi-container-id">
                        </div>
                    </div>
                </div>


            </section>

        </div>
    </div>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js" integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>

</body>
</html>
